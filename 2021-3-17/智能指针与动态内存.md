####  智能指针与动态内存

***

动态内存在程序中主动分配，需要主动释放。如果没有及时释放，会产生内存泄露。
内存泄露是指程序中忘记及时释放不再使用的动态内存，而导致失去了对该段内存的控制，从而造成了内存的浪费。
动态内存的管理方式：可以使用`malloc/free`或`new/delete`进行申请释放
`malloc/free` 与 `new/delete` 的区别

- `malloc/free` 是C语言库函数，`new/delete`是C++中的运算符
- `new`申请空间可以指定存储类型，成功时返回类型指针，申请失败时返回`bad_alloc`；而`malloc`成功时返回的类型为`void*`，失败时返回

C++中为了避免忘记释放动态内存，造成内存泄露。而引入智能指针。

智能指针与普通指针的区别：
- 动态指针采用引用计数的方式自动释放他管理的内存，而指针需要主动释放。
- 动态指针是对指针的封装，模仿指针的行为。

常用的两种智能指针 `shared_ptr`和`unique_ptr`的区别在于管理地城指针的方式：`shared_ptr`允许多个多个指针指向一个对象，`unique_ptr`独占所指向的对象。
